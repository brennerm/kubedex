import{d as oe,f as w,s as C,a as b,c as ne}from"../chunks/-H6E7GuL.js";import{b as le,t as ce,a as de,r as ve,h as fe,d as M,p as ue,e as D,s as Q,f as u,g as h,i as l,j as o,k as E,m as ee,n as W,o as U,q as pe}from"../chunks/BdI4M4be.js";import{p as me,i as P}from"../chunks/tcsFNqHd.js";import{s as be,a as _e,b as he,e as X,i as Y,c as we,r as xe,d as Z,k as ge}from"../chunks/CTGzyhC-.js";function ye(e,r,s=r){var i=new WeakSet;le(e,"input",async t=>{var c=t?e.defaultValue:e.value;if(c=I(e)?J(c):c,s(c),M!==null&&i.add(M),await ce(),c!==(c=r())){var m=e.selectionStart,d=e.selectionEnd,n=e.value.length;if(e.value=c??"",d!==null){var v=e.value.length;m===d&&d===n&&v>n?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=m,e.selectionEnd=Math.min(d,v))}}}),(fe&&e.defaultValue!==e.value||de(r)==null&&e.value)&&(s(I(e)?J(e.value):e.value),M!==null&&i.add(M)),ve(()=>{var t=r();if(e===document.activeElement){var c=ue??M;if(i.has(c))return}I(e)&&t===J(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function I(e){var r=e.type;return r==="number"||r==="range"}function J(e){return e===""?null:+e}function R(e){return e.replace("#/definitions/","")}function ke(e,r,s,i,t,c=0,m=10){const d=i.includes(e);if(r.$ref){const n=R(r.$ref),v={name:e,type:"object",description:r.description,required:d,isArray:!1,ref:n};if(!t.has(n)&&c<m){t.add(n);const _=s[n];_&&_.properties&&(v.properties=z(_,s,t,c+1,m)),t.delete(n)}return v}if(r.type==="array"&&r.items){const n={name:e,type:"array",description:r.description,required:d,isArray:!0};if(r.items.$ref){const v=R(r.items.$ref);if(n.ref=v,!t.has(v)&&c<m){t.add(v);const _=s[v];_&&_.properties&&(n.properties=z(_,s,t,c+1,m)),t.delete(v)}}else r.items.type&&(n.items=[{name:"item",type:r.items.type,description:r.items.description,required:!1,isArray:!1}]);return n}if(r.type==="object"&&r.properties)return{name:e,type:"object",description:r.description,required:d,isArray:!1,properties:z(r,s,t,c+1,m)};if(r.additionalProperties){const n={name:e,type:"object (map)",description:r.description,required:d,isArray:!1};if(r.additionalProperties.$ref){const v=R(r.additionalProperties.$ref);n.ref=v}return n}return{name:e,type:r.type||"any",description:r.description,required:d,isArray:!1}}function z(e,r,s,i=0,t=10){if(!e.properties)return[];const c=e.required||[],m=[];for(const[d,n]of Object.entries(e.properties))m.push(ke(d,n,r,c,s,i,t));return m}function qe(e,r){const s=r[e];if(!s)throw new Error(`Definition "${e}" not found`);const i=new Set;return i.add(e),{name:e,description:s.description,type:s.type||"object",properties:z(s,r,i),required:s.required||[]}}function B(e){const r=["io.k8s.api.","io.k8s.","apimachinery.pkg.apis.","kubernetes.pkg."];let s=e;for(const i of r)if(s.startsWith(i)){s=s.replace(i,"");break}return s=s.replace(/\./g,"/"),s}function je(e){const r=Object.keys(e),s=new Set;for(const i of r){if(i.endsWith("List"))continue;const t=e[i];t.properties&&re(t.properties,s)}return r.filter(i=>!(i.endsWith("List")||s.has(i))).map(i=>B(i)).sort()}function re(e,r){for(const[s,i]of Object.entries(e)){const t=i;t.$ref&&r.add(R(t.$ref)),t.type==="array"&&t.items?.$ref&&r.add(R(t.items.$ref)),t.additionalProperties?.$ref&&r.add(R(t.additionalProperties.$ref)),t.properties&&re(t.properties,r)}}function Ae(e,r){const s=e.replace(/\//g,"."),i=[`io.k8s.api.${s}`,`io.k8s.${s}`,s];for(const t of i)if(r[t])return t;return null}var Pe=w('<button class="btn btn-xs btn-circle btn-ghost shrink-0"><span>â–¼</span></button>'),Se=w('<div class="w-8 shrink-0"></div>'),Ce=w('<span class="badge badge-error badge-xs font-bold">required</span>'),Ee=w('<div class="text-sm leading-relaxed text-base-content/70 whitespace-pre-wrap wrap-anywhere mt-1"> </div>'),Le=w('<div class="mt-2 pt-2 border-l-2 border-base-content/10 pl-2"></div>'),Re=w('<div class="property-item mb-2"><div class="flex items-start gap-2"><!> <div class="flex-1 min-w-0"><div class="flex items-center gap-3 flex-wrap mb-1"><span class="font-mono font-semibold text-base"> </span> <!> <span class="font-mono text-xs text-base-content/60 italic wrap-anywhere justify-self-end text-right grow"> </span></div> <!></div></div> <!></div>');function te(e,r){D(r,!0);let s=me(r,"level",3,0),i=Q(s()<2);function t(){U(i,!o(i))}function c(a){return a.isArray&&a.ref?`${B(a.ref)}[]`:a.isArray?"[]":a.ref?B(a.ref):a.type}function m(a){return!!(a.properties&&a.properties.length>0)}var d=Re(),n=u(d),v=u(n);{var _=a=>{var f=Pe();f.__click=t;var A=u(f);let L;l(f),E(()=>{_e(f,"aria-label",o(i)?"Collapse":"Expand"),L=he(A,1,"transition-transform duration-300",null,L,{"-rotate-90":!o(i)})}),b(a,f)},N=a=>{var f=Se();b(a,f)};P(v,a=>{m(r.property)?a(_):a(N,!1)})}var T=h(v,2),S=u(T),k=u(S),F=u(k,!0);l(k);var O=h(k,2);{var H=a=>{var f=Ce();b(a,f)};P(O,a=>{r.property.required&&a(H)})}var V=h(O,2),K=u(V,!0);l(V),l(S);var p=h(S,2);{var x=a=>{var f=Ee(),A=u(f,!0);l(f),E(()=>C(A,r.property.description)),b(a,f)};P(p,a=>{r.property.description&&a(x)})}l(T),l(n);var g=h(n,2);{var q=a=>{var f=Le();X(f,21,()=>r.property.properties,Y,(A,L)=>{{let $=W(()=>s()+1);te(A,{get property(){return o(L)},get level(){return o($)}})}}),l(f),b(a,f)};P(g,a=>{o(i)&&m(r.property)&&a(q)})}l(d),E(a=>{be(d,`margin-left: ${s()*.5}rem`),C(F,r.property.name),C(K,a)},[()=>c(r.property)]),b(e,d),ee()}oe(["click"]);var Te=w("<option> </option>"),Me=w('<p class="mb-6 whitespace-pre-wrap"> </p>'),Ne=w('<div class="overflow-x-auto"></div>'),Oe=w('<div role="alert" class="alert alert-warning"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span>No properties defined for this resource.</span></div>'),Ve=w('<div class="card bg-base-100 shadow-xl"><div class="card-body"><h2 class="card-title text-xl mb-4"><span class="font-mono"> </span></h2> <!> <div class="divider"><span class="text-lg font-semibold">Properties</span></div> <!></div></div>'),We=w('<div class="card bg-base-100 shadow-xl"><div class="card-body items-center text-center py-16"><div class="w-32 h-32 mb-6 opacity-20"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div> <h3 class="text-2xl font-bold mb-3">Select a resource to explore</h3> <p class="text-base-content/60 max-w-md">Choose a Kubernetes resource from the dropdown above to view its complete schema with all nested properties and descriptions.</p></div></div>'),ze=w('<div class="container mx-auto p-6 max-w-7xl"><div class="card bg-base-100 shadow-xl mb-6"><div class="card-body"><h2 class="card-title text-2xl mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> Select a Resource</h2> <div class="form-control mb-4"><label for="search" class="label"><span class="label-text font-semibold">Search resources</span></label> <input id="search" type="text" placeholder="Type to filter resources..." class="input input-bordered w-full"/></div> <div class="form-control"><label for="resource-select" class="label"><span class="label-text font-semibold">Resource definition</span></label> <select id="resource-select" class="select select-bordered w-full"><option> </option><!></select></div></div></div> <!></div>');function $e(e,r){D(r,!0);let s=Q(""),i=Q(null),t=W(()=>{if(o(i))try{const p=Ae(o(i),Z.definitions);if(!p)throw new Error(`Could not find definition for "${o(i)}"`);return qe(p,Z.definitions)}catch{return null}else return null});const c=W(()=>je(ge.getDefinitions()));let m=W(()=>o(s)?o(c).filter(p=>p.toLowerCase().includes(o(s).toLowerCase())):o(c));var d=ze(),n=u(d),v=u(n),_=h(u(v),2),N=h(u(_),2);xe(N),l(_);var T=h(_,2),S=h(u(T),2),k=u(S),F=u(k);l(k),k.value=(k.__value=null)??"";var O=h(k);X(O,17,()=>o(m),Y,(p,x)=>{var g=Te(),q=u(g,!0);l(g);var a={};E(()=>{C(q,o(x)),a!==(a=o(x))&&(g.value=(g.__value=o(x))??"")}),b(p,g)}),l(S),l(T),l(v),l(n);var H=h(n,2);{var V=p=>{var x=Ve(),g=u(x),q=u(g),a=u(q),f=u(a,!0);l(a),l(q);var A=h(q,2);{var L=y=>{var j=Me(),G=u(j,!0);l(j),E(()=>C(G,o(t).description)),b(y,j)};P(A,y=>{o(t).description&&y(L)})}var $=h(A,4);{var ae=y=>{var j=Ne();X(j,21,()=>o(t).properties,Y,(G,ie)=>{te(G,{get property(){return o(ie)}})}),l(j),b(y,j)},se=y=>{var j=Oe();b(y,j)};P($,y=>{o(t).properties.length>0?y(ae):y(se,!1)})}l(g),l(x),E(y=>C(f,y),[()=>B(o(t).name)]),b(p,x)},K=p=>{var x=ne(),g=pe(x);{var q=a=>{var f=We();b(a,f)};P(g,a=>{o(i)||a(q)},!0)}b(p,x)};P(H,p=>{o(t)?p(V):p(K,!1)})}l(d),E(()=>C(F,`-- Select a resource (${o(m).length??""}) --`)),ye(N,()=>o(s),p=>U(s,p)),we(S,()=>o(i),p=>U(i,p)),b(e,d),ee()}export{$e as component};
